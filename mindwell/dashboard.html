<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindWell - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="theme.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        /* Enhanced Dashboard styles */
        .dashboard-container {
            min-height: 100vh;
            background-color: #f9fafb;
            transition: all 0.3s ease;
        }
        
        .dark .dashboard-container {
            background-color: #111827;
        }
        
        .sidebar {
            background: linear-gradient(135deg, #0d948c, #0f766e);
            transition: all 0.3s ease;
        }
        
        .dark .sidebar {
            background: linear-gradient(135deg, #0f766e, #0d948c);
        }
        
        .nav-link {
            color: #f0fdfa;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        
        .nav-link.active {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background-color: white;
            border-radius: 2px;
        }
        
        .card {
            background-color: #ffffff;
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            color: #1f2937;
        }
        
        .dark .card {
            background-color: #1f2937;
            border-color: rgba(255, 255, 255, 0.1);
            color: #f3f4f6;
        }
        
        .quick-action {
            transition: all 0.3s ease;
            border-radius: 0.75rem;
        }
        
        .quick-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .mood-selector {
            transition: all 0.3s ease;
            border-radius: 50%;
        }
        
        .mood-selector:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .mood-selector.active {
            transform: scale(1.1);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.3);
        }
        
        .activity-item {
            transition: all 0.3s ease;
            border-radius: 0.75rem;
        }
        
        .activity-item:hover {
            background-color: rgba(13, 148, 136, 0.1);
            transform: translateX(5px);
        }
        
        .dark .activity-item:hover {
            background-color: rgba(13, 148, 136, 0.2);
        }

        /* Enhanced theme-specific styles */
        .text-primary {
            color: #111827;
        }
        
        .dark .text-primary {
            color: #f9fafb;
        }
        
        .text-secondary {
            color: #4b5563;
        }
        
        .dark .text-secondary {
            color: #9ca3af;
        }
        
        .text-muted {
            color: #6b7280;
        }
        
        .dark .text-muted {
            color: #6b7280;
        }

        /* Enhanced text color classes */
        .text-light {
            color: #1f2937; /* Dark gray for light theme */
        }
        
        .dark .text-light {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        .text-dark {
            color: #111827;
        }
        
        .dark .text-dark {
            color: #111827;
        }
        
        .text-gray {
            color: #6b7280;
        }
        
        .dark .text-gray {
            color: #9ca3af;
        }
        
        .text-teal {
            color: #0d948c;
        }
        
        .dark .text-teal {
            color: #0d948c;
        }
        
        .text-blue {
            color: #3b82f6;
        }
        
        .dark .text-blue {
            color: #60a5fa;
        }
        
        .text-red {
            color: #ef4444;
        }
        
        .dark .text-red {
            color: #f87171;
        }
        
        .text-green {
            color: #10b981;
        }
        
        .dark .text-green {
            color: #34d399;
        }
        
        .text-yellow {
            color: #f59e0b;
        }
        
        .dark .text-yellow {
            color: #fbbf24;
        }
        
        .text-purple {
            color: #8b5cf6;
        }
        
        .dark .text-purple {
            color: #a78bfa;
        }

        /* Enhanced input styles */
        input, textarea, select {
            background-color: white;
            border-color: #e5e7eb;
            color: #111827;
            transition: all 0.3s ease;
            border-radius: 0.5rem;
        }
        
        .dark input, .dark textarea, .dark select {
            background-color: #1f2937;
            border-color: #374151;
            color: #f9fafb;
        }
        
        input:focus, textarea:focus, select:focus {
            border-color: #0d948c;
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.2);
        }
        
        .dark input:focus, .dark textarea:focus, .dark select:focus {
            border-color: #0d948c;
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.3);
        }

        /* Enhanced chart styles */
        .dark .chart-grid {
            color: #374151;
        }
        
        .dark .chart-text {
            color: #9ca3af;
        }

        /* Breathing exercise animation */
        @keyframes breathe {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .breathing-circle {
            animation: breathe 4s infinite ease-in-out;
        }

        /* Progress bar animation */
        @keyframes progress {
            0% { width: 0%; }
            100% { width: var(--progress); }
        }

        .progress-bar {
            animation: progress 1s ease-out forwards;
        }

        /* Enhanced layout styles */
        .main-content {
            min-height: calc(100vh - 4rem);
            padding-bottom: 4rem;
        }
        
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4rem;
            background-color: white;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            transition: all 0.3s ease;
        }
        
        .dark .footer {
            background-color: #1f2937;
            border-top-color: rgba(255, 255, 255, 0.1);
        }
        
        .user-menu-item {
            transition: all 0.2s ease;
        }
        
        .user-menu-item:hover {
            background-color: rgba(13, 148, 136, 0.1);
        }
        
        .dark .user-menu-item:hover {
            background-color: rgba(13, 148, 136, 0.2);
        }
        
        .logout-button {
            color: #ef4444;
            transition: all 0.2s ease;
        }
        
        .logout-button:hover {
            background-color: rgba(239, 68, 68, 0.1);
        }
        
        .dark .logout-button:hover {
            background-color: rgba(239, 68, 68, 0.2);
        }

        /* Assessment section styles */
        .assessment-section {
            display: none;
        }
        .active-section {
            display: block;
        }

        /* Add text color classes for light theme */
        .section-title {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .section-title {
            color: #f9fafb !important; /* Very light gray for dark theme */
        }
        
        .section-description {
            color: #374151 !important; /* Dark gray for light theme */
        }
        
        .dark .section-description {
            color: #d1d5db !important; /* Light gray for dark theme */
        }
        
        /* Card styles */
        .card {
            background-color: #ffffff;
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .card {
            background-color: #1f2937;
            color: #f9fafb !important; /* Very light gray for dark theme */
        }
        
        /* Game section styles */
        .game-card {
            background-color: #ffffff;
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .game-card {
            background-color: #1f2937;
            color: #f9fafb !important; /* Very light gray for dark theme */
        }
        
        /* Community section styles */
        .community-post {
            background-color: #ffffff;
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .community-post {
            background-color: #1f2937;
            color: #f9fafb !important; /* Very light gray for dark theme */
        }
        
        /* Resources section styles */
        .resource-card {
            background-color: #ffffff;
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .resource-card {
            background-color: #1f2937;
            color: #f9fafb !important; /* Very light gray for dark theme */
        }
        
        /* Override any existing text color classes */
        .text-gray-600 {
            color: #374151 !important; /* Dark gray for light theme */
        }
        
        .dark .text-gray-600 {
            color: #d1d5db !important; /* Light gray for dark theme */
        }
        
        .text-gray-300 {
            color: #374151 !important; /* Dark gray for light theme */
        }
        
        .dark .text-gray-300 {
            color: #d1d5db !important; /* Light gray for dark theme */
        }

        /* Base text colors for light theme */
        body {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark body {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Section titles */
        h1, h2, h3, h4, h5, h6 {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Card text colors */
        .card {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark .card {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Text colors for different sections */
        .text-gray-600 {
            color: #374151; /* Dark gray for light theme */
        }
        
        .dark .text-gray-600 {
            color: #d1d5db; /* Light gray for dark theme */
        }
        
        .text-gray-300 {
            color: #374151; /* Dark gray for light theme */
        }
        
        .dark .text-gray-300 {
            color: #d1d5db; /* Light gray for dark theme */
        }
        
        /* Dashboard specific styles */
        #dashboard-section {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark #dashboard-section {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Resources section */
        #resources-section {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark #resources-section {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Community section */
        #community-section {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark #community-section {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Games section */
        #games-section {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark #games-section {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Memory game specific styles */
        .memory-card {
            color: #111827; /* Dark gray for light theme */
        }
        
        .dark .memory-card {
            color: #f3f4f6; /* Light gray for dark theme */
        }
        
        /* Override any existing text color classes */
        .text-primary {
            color: #111827 !important; /* Dark gray for light theme */
        }
        
        .dark .text-primary {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        .text-secondary {
            color: #374151 !important; /* Dark gray for light theme */
        }
        
        .dark .text-secondary {
            color: #d1d5db !important; /* Light gray for dark theme */
        }
        
        .text-muted {
            color: #4b5563 !important; /* Dark gray for light theme */
        }
        
        .dark .text-muted {
            color: #9ca3af !important; /* Light gray for dark theme */
        }

        /* Heading styles for light theme */
        h1, h2, h3, h4, h5, h6 {
            color: #111827 !important; /* Very dark gray for light theme */
            font-weight: 600 !important;
        }
        
        .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Section titles */
        .section-title {
            color: #111827 !important; /* Very dark gray for light theme */
            font-weight: 700 !important;
        }
        
        .dark .section-title {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Dashboard section headings */
        #dashboard-section h1,
        #dashboard-section h2,
        #dashboard-section h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark #dashboard-section h1,
        .dark #dashboard-section h2,
        .dark #dashboard-section h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Resources section headings */
        #resources-section h1,
        #resources-section h2,
        #resources-section h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark #resources-section h1,
        .dark #resources-section h2,
        .dark #resources-section h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Community section headings */
        #community-section h1,
        #community-section h2,
        #community-section h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark #community-section h1,
        .dark #community-section h2,
        .dark #community-section h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Games section headings */
        #games-section h1,
        #games-section h2,
        #games-section h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark #games-section h1,
        .dark #games-section h2,
        .dark #games-section h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Card headings */
        .card h1,
        .card h2,
        .card h3,
        .card h4,
        .card h5,
        .card h6 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .card h1,
        .dark .card h2,
        .dark .card h3,
        .dark .card h4,
        .dark .card h5,
        .dark .card h6 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Modal headings */
        .modal-content h1,
        .modal-content h2,
        .modal-content h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark .modal-content h1,
        .dark .modal-content h2,
        .dark .modal-content h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
        
        /* Assessment section headings */
        #assessment-intro h1,
        #assessment-intro h2,
        #assessment-intro h3,
        #assessment-questions h1,
        #assessment-questions h2,
        #assessment-questions h3,
        #assessment-results h1,
        #assessment-results h2,
        #assessment-results h3 {
            color: #111827 !important; /* Very dark gray for light theme */
        }
        
        .dark #assessment-intro h1,
        .dark #assessment-intro h2,
        .dark #assessment-intro h3,
        .dark #assessment-questions h1,
        .dark #assessment-questions h2,
        .dark #assessment-questions h3,
        .dark #assessment-results h1,
        .dark #assessment-results h2,
        .dark #assessment-results h3 {
            color: #f3f4f6 !important; /* Light gray for dark theme */
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 font-sans">
    <div class="dashboard-container flex">
        <!-- Enhanced Sidebar -->
        <div class="sidebar w-64 min-h-screen fixed left-0 top-0 p-4">
            <div class="flex items-center space-x-2 mb-8">
                <i class="fas fa-brain text-2xl text-white"></i>
                <span class="text-white font-bold text-xl">MindWell</span>
            </div>
            
            <nav class="space-y-2">
                <a href="#" class="nav-link active flex items-center space-x-2 p-2 rounded-lg" data-section="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-link flex items-center space-x-2 p-2 rounded-lg" data-section="resources">
                    <i class="fas fa-book"></i>
                    <span>Resources</span>
                </a>
                <a href="#" class="nav-link flex items-center space-x-2 p-2 rounded-lg" data-section="community">
                    <i class="fas fa-comments"></i>
                    <span>Community</span>
                </a>
                <a href="#" class="nav-link flex items-center space-x-2 p-2 rounded-lg" data-section="courses">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Courses</span>
                </a>
                <a href="#" class="nav-link flex items-center space-x-2 p-2 rounded-lg" data-section="games">
                    <i class="fas fa-gamepad"></i>
                    <span>Mind Games</span>
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="ml-64 flex-1 main-content">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="p-8">
                <!-- Enhanced Top Bar -->
            <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-2xl font-bold text-primary">Welcome back, <span id="user-name" class="text-teal">User</span>! ðŸ‘‹</h1>
                        <p class="text-secondary mt-1">Here's your mental wellness overview for today</p>
                    </div>
                <div class="flex items-center space-x-4">
                        <button id="theme-toggle" class="focus:outline-none p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
                        <i id="theme-toggle-dark-icon" class="fas fa-moon text-xl hidden"></i>
                        <i id="theme-toggle-light-icon" class="fas fa-sun text-xl"></i>
                    </button>
                    <div class="relative">
                        <button id="user-menu-button" class="flex items-center space-x-2 focus:outline-none">
                            <img id="user-avatar" src="https://ui-avatars.com/api/?name=User&background=0d948c&color=fff" 
                                     class="w-8 h-8 rounded-full ring-2 ring-teal-500" alt="User Avatar">
                            <i class="fas fa-chevron-down text-gray-600 dark:text-gray-300"></i>
                        </button>
                            <div id="user-menu" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-1 z-50">
                                <a href="index.html" class="user-menu-item block px-4 py-2 text-sm text-gray-700 dark:text-gray-300">
                                    <i class="fas fa-home mr-2"></i>Home
                                </a>
                                <a href="#" class="user-menu-item block px-4 py-2 text-sm text-gray-700 dark:text-gray-300">
                                    <i class="fas fa-cog mr-2"></i>Settings
                                </a>
                                <div class="border-t border-gray-200 dark:border-gray-700 my-1"></div>
                                <button id="logout-button" class="logout-button w-full text-left px-4 py-2 text-sm">
                                    <i class="fas fa-sign-out-alt mr-2"></i>Logout
                                </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- Enhanced Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="card p-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-teal-100 dark:bg-teal-900 opacity-20 rounded-full transform translate-x-12 -translate-y-12"></div>
                        <h3 class="text-lg font-semibold text-secondary mb-2">Current Streak</h3>
                        <p class="text-3xl font-bold text-teal">7 days</p>
                        <p class="text-sm text-muted mt-2">Keep going! You're doing great!</p>
                </div>
                    <div class="card p-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-blue-100 dark:bg-blue-900 opacity-20 rounded-full transform translate-x-12 -translate-y-12"></div>
                        <h3 class="text-lg font-semibold text-secondary mb-2">Mood Average</h3>
                        <p class="text-3xl font-bold text-blue">8.2</p>
                        <p class="text-sm text-muted mt-2">Better than last week!</p>
                </div>
                    <div class="card p-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-purple-100 dark:bg-purple-900 opacity-20 rounded-full transform translate-x-12 -translate-y-12"></div>
                        <h3 class="text-lg font-semibold text-secondary mb-2">Activities</h3>
                        <p class="text-3xl font-bold text-purple">12</p>
                        <p class="text-sm text-muted mt-2">Completed this week</p>
                    </div>
                    <div class="card p-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-24 h-24 bg-green-100 dark:bg-green-900 opacity-20 rounded-full transform translate-x-12 -translate-y-12"></div>
                        <h3 class="text-lg font-semibold text-secondary mb-2">Meditation</h3>
                        <p class="text-3xl font-bold text-green">15 min</p>
                        <p class="text-sm text-muted mt-2">Today's practice</p>
                </div>
            </div>

                <!-- Daily Wellness Tracker -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6">
                    <div class="lg:col-span-2">
                        <div class="card p-6">
                            <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Daily Wellness Tracker</h2>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto mb-2 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center">
                                        <i class="fas fa-bed text-2xl text-teal-600 dark:text-teal-400"></i>
                </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">Sleep</p>
                                    <p class="text-lg font-semibold text-gray-800 dark:text-white">7.5h</p>
                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto mb-2 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                                        <i class="fas fa-walking text-2xl text-blue-600 dark:text-blue-400"></i>
                                    </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">Steps</p>
                                    <p class="text-lg font-semibold text-gray-800 dark:text-white">8,234</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto mb-2 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center">
                                        <i class="fas fa-heart text-2xl text-purple-600 dark:text-purple-400"></i>
                                    </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">Heart Rate</p>
                                    <p class="text-lg font-semibold text-gray-800 dark:text-white">72 bpm</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 mx-auto mb-2 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center">
                                        <i class="fas fa-fire text-2xl text-green-600 dark:text-green-400"></i>
                                    </div>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">Calories</p>
                                    <p class="text-lg font-semibold text-gray-800 dark:text-white">1,234</p>
                                </div>
                            </div>
                </div>
            </div>

                    <!-- Quick Breathing Exercise -->
                    <div class="card p-6">
                        <h2 class="text-xl font-bold text-primary mb-4">Quick Breathing Exercise</h2>
                        <div class="flex flex-col items-center justify-center h-48">
                            <div id="breathing-circle" class="w-32 h-32 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center">
                                <i class="fas fa-wind text-4xl text-teal"></i>
                            </div>
                            <p id="breathing-text" class="mt-4 text-secondary">Ready to begin?</p>
                            <div id="breathing-timer" class="hidden text-2xl font-bold text-teal mt-2">00:00</div>
                            <button id="start-breathing" class="mt-4 bg-teal-600 text-light px-6 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                                Start Exercise
                            </button>
                            <button id="stop-breathing" class="hidden mt-4 bg-red-600 text-light px-6 py-2 rounded-lg hover:bg-red-700 transition duration-300">
                                Stop Exercise
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Assessment Section -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6">
                <div class="lg:col-span-2">
                        <div class="card p-6">
                            <h2 class="text-xl font-bold text-primary mb-4">Mental Health Assessment</h2>
                        <div id="assessment-intro" class="active-section">
                                <p class="text-secondary mb-4">
                                Take a quick assessment to understand your current mental health status. 
                                This will help us provide personalized recommendations.
                            </p>
                                <div class="flex space-x-4">
                                    <button id="start-assessment" class="bg-teal-600 text-light px-6 py-3 rounded-lg hover:bg-teal-700 transition duration-300">
                                Start Assessment
                            </button>
                                    <button id="view-previous-results" class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-300">
                                        View Previous Results
                            </button>
                                </div>
                        </div>

                            <div id="assessment-questions" class="assessment-section">
                            <div class="flex justify-between items-center mb-4">
                                    <span class="text-sm text-muted">
                                    Question <span id="current-question">1</span> of <span id="total-questions">15</span>
                                </span>
                                    <span id="current-category" class="text-sm font-medium text-teal"></span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-6">
                                <div id="progress-bar" class="bg-teal-600 h-2 rounded-full" style="width: 0%"></div>
                            </div>
                            <div id="question-container" class="mb-6"></div>
                            <div class="flex justify-between">
                                <button id="prev-question" class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-300" disabled>
                                    Previous
                                </button>
                                    <button id="next-question" class="bg-teal-600 text-light px-6 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                                    Next
                                </button>
                            </div>
                        </div>

                            <div id="assessment-results" class="assessment-section">
                                <h3 class="text-lg font-semibold text-primary mb-4">Assessment Results</h3>
                            <div id="results-summary" class="mb-6"></div>
                                <div class="flex items-end justify-between h-48 mb-6" id="results-chart">
                                    <!-- Chart bars will be inserted here -->
                                </div>
                            <div class="flex justify-between">
                                    <button id="view-resources" class="bg-blue-600 text-light px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300">
                                    View Resources
                                </button>
                                <button id="retake-assessment" class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-300">
                                    Retake Assessment
                                </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mood Tracking -->
                    <div class="card p-6">
                        <h2 class="text-xl font-bold text-primary mb-4">How are you feeling today?</h2>
                        <div class="grid grid-cols-5 gap-4 mb-4">
                            <button class="mood-selector p-3 rounded-full bg-red-100 dark:bg-red-900 text-red">
                                <i class="fas fa-frown text-2xl"></i>
                            </button>
                            <button class="mood-selector p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow">
                                <i class="fas fa-meh text-2xl"></i>
                            </button>
                            <button class="mood-selector p-3 rounded-full bg-green-100 dark:bg-green-900 text-green">
                                <i class="fas fa-smile text-2xl"></i>
                            </button>
                            <button class="mood-selector p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue">
                                <i class="fas fa-laugh text-2xl"></i>
                            </button>
                            <button class="mood-selector p-3 rounded-full bg-purple-100 dark:bg-purple-900 text-purple">
                                <i class="fas fa-grin-hearts text-2xl"></i>
                            </button>
                        </div>
                        <textarea class="w-full p-3 rounded-lg border border-gray-200 dark:border-gray-700 focus:outline-none focus:border-teal-500 text-primary bg-transparent" 
                                  rows="3" 
                                  placeholder="Add a note about your mood..."></textarea>
                        <button class="mt-4 bg-teal-600 text-light px-6 py-2 rounded-lg hover:bg-teal-700 transition duration-300 w-full">
                            Save Mood
                        </button>
                    </div>
                </div>
                    </div>

            <!-- Resources Section -->
            <div id="resources-section" class="p-8 hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-4">Support Resources</h2>
                    <div class="bg-red-50 dark:bg-red-900/30 border-l-4 border-red-400 p-4 mb-6">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-phone-alt text-red-400"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-red-700 dark:text-red-200">
                                    <strong>If you're experiencing a mental health emergency:</strong> Call 988 (Suicide & Crisis Lifeline) or text HOME to 741741 (Crisis Text Line) for immediate support. Available 24/7.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card p-6">
                        <div class="text-teal-600 dark:text-teal-400 mb-4">
                            <i class="fas fa-user-md text-3xl"></i>
                    </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800 dark:text-white">Professional Help</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Finding the right professional is an important step in your mental health journey.</p>
                        <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Therapists & Counselors</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Psychiatrists</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Support Groups</li>
                        </ul>
                </div>

                    <div class="card p-6">
                        <div class="text-teal-600 dark:text-teal-400 mb-4">
                            <i class="fas fa-book-open text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800 dark:text-white">Self-Help Resources</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Explore tools and techniques to support your mental wellbeing daily.</p>
                        <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Mindfulness Practices</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Coping Strategies</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Recommended Reading</li>
                        </ul>
                    </div>

                    <div class="card p-6">
                        <div class="text-teal-600 dark:text-teal-400 mb-4">
                            <i class="fas fa-mobile-alt text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-800 dark:text-white">Digital Tools</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Apps and online programs to help you track and improve your mental health.</p>
                        <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Meditation Apps</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Mood Trackers</li>
                            <li><i class="fas fa-check-circle text-teal-500 mr-2"></i>Online Therapy Platforms</li>
                        </ul>
                    </div>
                </div>

                <!-- WHO Mental Health Resources Button -->
                <div class="mt-8">
                    <a href="https://www.who.int/news-room/fact-sheets/detail/mental-health-strengthening-our-response" 
                       target="_blank"
                       class="inline-flex items-center gap-2 px-4 py-3 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:bg-teal-50 dark:hover:bg-gray-700 border-2 border-teal-500">
                        <div class="w-8 h-8 flex items-center justify-center bg-teal-500 rounded-full text-white">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <span class="font-medium text-gray-800 dark:text-white">WHO Mental Health Resources</span>
                        <i class="fas fa-external-link-alt text-teal-600 dark:text-teal-400"></i>
                    </a>
                </div>
            </div>

            <!-- Community Section -->
            <div id="community-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Community</h2>
                    <button class="bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition duration-300 flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span>New Post</span>
                    </button>
                </div>

                <!-- Community Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="card p-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center">
                                <i class="fas fa-users text-teal-600 dark:text-teal-400 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Active Members</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white">1,234</p>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                                <i class="fas fa-comments text-blue-600 dark:text-blue-400 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Discussions</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white">567</p>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center">
                                <i class="fas fa-lightbulb text-purple-600 dark:text-purple-400 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Resources Shared</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white">89</p>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center">
                                <i class="fas fa-heart text-green-600 dark:text-green-400 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Support Given</p>
                                <p class="text-2xl font-bold text-gray-800 dark:text-white">2,345</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Feed -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2">
                        <!-- Feed Filters -->
                        <div class="flex gap-4 mb-6 overflow-x-auto pb-2">
                            <button class="px-4 py-2 rounded-lg bg-teal-600 text-white">All Posts</button>
                            <button class="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600">Latest</button>
                            <button class="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600">Popular</button>
                            <button class="px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600">Following</button>
                        </div>

                        <!-- Posts -->
                <div class="space-y-6">
                            <!-- Post 1 -->
                    <div class="card p-6">
                                <div class="flex items-start gap-4">
                                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=0d948c&color=fff" 
                                         class="w-12 h-12 rounded-full" alt="User Avatar">
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h3 class="font-semibold text-gray-800 dark:text-white">John Doe</h3>
                                                <p class="text-sm text-gray-500 dark:text-gray-400">2 hours ago</p>
                                            </div>
                                            <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                                <i class="fas fa-ellipsis-h"></i>
                                            </button>
                                        </div>
                                        <p class="mt-2 text-gray-600 dark:text-gray-300">
                                            Just completed my first week of mindfulness meditation. Feeling more focused and at peace. Anyone else practicing meditation? Would love to hear your experiences!
                                        </p>
                                        <div class="flex gap-4 mt-4">
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-heart"></i>
                                                <span>24</span>
                                            </button>
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-comment"></i>
                                                <span>8</span>
                                            </button>
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-share-square"></i>
                                                <span>Share</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Post 2 -->
                            <div class="card p-6">
                                <div class="flex items-start gap-4">
                                    <img src="https://ui-avatars.com/api/?name=Jane+Smith&background=0d948c&color=fff" 
                                         class="w-12 h-12 rounded-full" alt="User Avatar">
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h3 class="font-semibold text-gray-800 dark:text-white">Jane Smith</h3>
                                                <p class="text-sm text-gray-500 dark:text-gray-400">5 hours ago</p>
                                            </div>
                                            <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                                <i class="fas fa-ellipsis-h"></i>
                                            </button>
                                        </div>
                                        <p class="mt-2 text-gray-600 dark:text-gray-300">
                                            Sharing some resources that helped me with anxiety management. Would love to hear what works for others!
                                        </p>
                                        <div class="mt-4">
                                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
                                                <h4 class="font-semibold text-gray-800 dark:text-white mb-2">Recommended Resources</h4>
                                                <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                                                    <li class="flex items-center gap-2">
                                                        <i class="fas fa-check-circle text-teal-500"></i>
                                                        <span>Mindfulness Meditation App</span>
                                                    </li>
                                                    <li class="flex items-center gap-2">
                                                        <i class="fas fa-check-circle text-teal-500"></i>
                                                        <span>Breathing Exercises Guide</span>
                                                    </li>
                                                    <li class="flex items-center gap-2">
                                                        <i class="fas fa-check-circle text-teal-500"></i>
                                                        <span>Daily Journal Prompts</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="flex gap-4 mt-4">
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-heart"></i>
                                                <span>42</span>
                                            </button>
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-comment"></i>
                                                <span>15</span>
                                            </button>
                                            <button class="flex items-center gap-2 text-gray-500 hover:text-teal-600 dark:hover:text-teal-400">
                                                <i class="far fa-share-square"></i>
                                                <span>Share</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Community Sidebar -->
                    <div class="space-y-6">
                        <!-- Popular Topics -->
                        <div class="card p-6">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Popular Topics</h3>
                            <div class="space-y-2">
                                <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <span class="text-gray-600 dark:text-gray-300">Anxiety Management</span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">245 posts</span>
                                </a>
                                <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <span class="text-gray-600 dark:text-gray-300">Meditation</span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">189 posts</span>
                                </a>
                                <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <span class="text-gray-600 dark:text-gray-300">Stress Relief</span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">156 posts</span>
                                </a>
                                <a href="#" class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                                    <span class="text-gray-600 dark:text-gray-300">Sleep Improvement</span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">132 posts</span>
                                </a>
                            </div>
                        </div>

                        <!-- Community Guidelines -->
                        <div class="card p-6">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Community Guidelines</h3>
                            <ul class="space-y-3 text-gray-600 dark:text-gray-300">
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                    <span>Be kind and supportive to others</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                    <span>Respect different perspectives</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                    <span>Share personal experiences</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                    <span>Maintain confidentiality</span>
                                </li>
                            </ul>
                        </div>

                        <!-- Quick Actions -->
                        <div class="card p-6">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Quick Actions</h3>
                            <div class="space-y-3">
                                <button class="w-full flex items-center gap-2 p-3 rounded-lg bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 hover:bg-teal-100 dark:hover:bg-teal-900/50">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Find Support Buddies</span>
                            </button>
                                <button class="w-full flex items-center gap-2 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50">
                                    <i class="fas fa-calendar-plus"></i>
                                    <span>Join Group Sessions</span>
                            </button>
                                <button class="w-full flex items-center gap-2 p-3 rounded-lg bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/50">
                                    <i class="fas fa-book"></i>
                                    <span>Share Resources</span>
                            </button>
                            </div>
                        </div>
                    </div>
                        </div>
                    </div>

            <!-- Mind Games Section -->
            <div id="games-section" class="p-8 hidden">
                <div class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4">
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Mind Games</h2>
                    <div class="flex items-center gap-4">
                        <span id="game-score" class="text-lg font-semibold text-teal-600 dark:text-teal-400">Score: 0</span>
                        <button id="restart-game" class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                            Restart Game
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Memory Game -->
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">Memory Game</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Test your memory by matching pairs of cards. Click on cards to reveal them and find matching pairs.</p>
                        
                        <div id="memory-game" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4">
                            <!-- Cards will be generated by JavaScript -->
                                    </div>
                        
                        <div class="mt-6">
                            <div class="flex flex-col sm:flex-row justify-between items-center gap-2 mb-2">
                                <span class="text-sm text-gray-600 dark:text-gray-300">Time: <span id="game-timer">00:00</span></span>
                                <span class="text-sm text-gray-600 dark:text-gray-300">Moves: <span id="game-moves">0</span></span>
                                </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                <div id="game-progress" class="bg-teal-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                                    </div>
                                </div>

                    <!-- Game Instructions -->
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">How to Play</h3>
                        <ul class="space-y-3 text-gray-600 dark:text-gray-300">
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                <span>Click on any card to reveal its symbol</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                <span>Try to find matching pairs of cards</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                <span>Cards will flip back if they don't match</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-teal-500 mt-1"></i>
                                <span>Complete the game with the fewest moves and time</span>
                            </li>
                        </ul>

                        <div class="mt-6">
                            <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Benefits</h4>
                            <ul class="space-y-2 text-gray-600 dark:text-gray-300">
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-brain text-teal-500 mt-1"></i>
                                    <span>Improves memory and concentration</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-lightbulb text-teal-500 mt-1"></i>
                                    <span>Enhances cognitive skills</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-heart text-teal-500 mt-1"></i>
                                    <span>Reduces stress and anxiety</span>
                                </li>
                            </ul>
                            </div>
                                    </div>
                                </div>
                            </div>

            <!-- Courses Section -->
            <div id="courses-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white">Available Courses</h2>
                    <div class="flex items-center gap-4">
                        <div class="relative">
                            <select class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2 text-gray-700 dark:text-gray-300 focus:outline-none focus:border-teal-500">
                                <option>All Categories</option>
                                <option>Mindfulness</option>
                                <option>Stress Management</option>
                                <option>Sleep Wellness</option>
                                <option>Social Skills</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Available Courses -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Course 1 -->
                    <div class="card p-6 hover:shadow-lg transition duration-300">
                        <div class="relative mb-4">
                            <img src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" 
                                 alt="Mindfulness Course" 
                                 class="w-full h-48 object-cover rounded-lg">
                            <div class="absolute top-2 right-2 bg-teal-600 text-white px-2 py-1 rounded text-sm">
                                Available Now
            </div>
        </div>
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-8 h-8 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center">
                                <i class="fas fa-brain text-teal-600 dark:text-teal-400"></i>
                            </div>
                            <span class="text-sm text-gray-600 dark:text-gray-300">Mindfulness</span>
                        </div>
                        <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Introduction to Mindfulness</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Learn the basics of mindfulness meditation and its benefits for mental health.</p>
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-clock text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">8 weeks</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <i class="fas fa-user-graduate text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">120 enrolled</span>
                            </div>
                        </div>
                        <button class="w-full bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                            Enroll Now
                        </button>
    </div>

                    <!-- Course 2 -->
                    <div class="card p-6 hover:shadow-lg transition duration-300">
                        <div class="relative mb-4">
                            <img src="https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" 
                                 alt="Stress Management Course" 
                                 class="w-full h-48 object-cover rounded-lg">
                            <div class="absolute top-2 right-2 bg-teal-600 text-white px-2 py-1 rounded text-sm">
                                Available Now
                            </div>
                        </div>
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                                <i class="fas fa-heart text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <span class="text-sm text-gray-600 dark:text-gray-300">Stress Management</span>
                        </div>
                        <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Stress Management 101</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Practical techniques to manage stress and improve your daily life.</p>
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-clock text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">6 weeks</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <i class="fas fa-user-graduate text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">95 enrolled</span>
                            </div>
                        </div>
                        <button class="w-full bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                            Enroll Now
                        </button>
                    </div>

                    <!-- Course 3 -->
                    <div class="card p-6 hover:shadow-lg transition duration-300">
                        <div class="relative mb-4">
                            <img src="https://images.unsplash.com/photo-1516483638261-f4dbaf036963?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" 
                                 alt="Sleep Wellness Course" 
                                 class="w-full h-48 object-cover rounded-lg">
                            <div class="absolute top-2 right-2 bg-teal-600 text-white px-2 py-1 rounded text-sm">
                                Available Now
                            </div>
                        </div>
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center">
                                <i class="fas fa-moon text-purple-600 dark:text-purple-400"></i>
                            </div>
                            <span class="text-sm text-gray-600 dark:text-gray-300">Sleep Wellness</span>
                        </div>
                        <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Sleep Wellness Masterclass</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Improve your sleep quality with science-backed techniques and habits.</p>
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-clock text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">4 weeks</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <i class="fas fa-user-graduate text-gray-400"></i>
                                <span class="text-sm text-gray-600 dark:text-gray-300">150 enrolled</span>
                            </div>
                        </div>
                        <button class="w-full bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                            Enroll Now
                        </button>
                    </div>
                </div>

                <!-- Course Details Modal -->
                <div id="course-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg max-w-2xl w-full mx-4">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-2xl font-bold text-gray-800 dark:text-white">Course Details</h3>
                            <button id="close-modal" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-center gap-2">
                                <div class="w-8 h-8 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center">
                                    <i class="fas fa-brain text-teal-600 dark:text-teal-400"></i>
                                </div>
                                <span class="text-sm text-gray-600 dark:text-gray-300">Mindfulness</span>
                            </div>
                            <h4 class="text-xl font-semibold text-gray-800 dark:text-white">Introduction to Mindfulness</h4>
                            <p class="text-gray-600 dark:text-gray-300">This course will teach you the fundamentals of mindfulness meditation and how to incorporate it into your daily life for better mental health and well-being.</p>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                    <h5 class="font-medium text-gray-800 dark:text-white mb-2">Course Duration</h5>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">8 weeks</p>
                                </div>
                                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                    <h5 class="font-medium text-gray-800 dark:text-white mb-2">Time Commitment</h5>
                                    <p class="text-sm text-gray-600 dark:text-gray-300">2-3 hours/week</p>
                                </div>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                <h5 class="font-medium text-gray-800 dark:text-white mb-2">What You'll Learn</h5>
                                <ul class="list-disc list-inside space-y-2 text-gray-600 dark:text-gray-300">
                                    <li>Basic mindfulness meditation techniques</li>
                                    <li>Breathing exercises for stress relief</li>
                                    <li>Mindful movement practices</li>
                                    <li>Daily mindfulness integration</li>
                                </ul>
                            </div>
                            <button id="enroll-button" class="w-full bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300" data-course-id="1">
                                Enroll in Course
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="text-sm text-gray-600 dark:text-gray-400">
            Â© 2024 MindWell. All rights reserved.
        </div>
        <div class="flex items-center space-x-4">
            <a href="#" class="text-sm text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400">Privacy Policy</a>
            <a href="#" class="text-sm text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400">Terms of Service</a>
            <a href="#" class="text-sm text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400">Contact Us</a>
        </div>
    </footer>

    <script src="assessment.js"></script>
    <script>
        // Check if user is logged in
        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                window.location.href = 'login.html';
                return;
            }
            document.getElementById('user-name').textContent = user.name;
            document.getElementById('user-avatar').src = `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name)}&background=0d948c&color=fff`;
        }

        // Enhanced logout functionality
        function handleLogout() {
            // Clear all user data
            localStorage.removeItem('user');
            localStorage.removeItem('token');
            localStorage.removeItem('moodHistory');
            localStorage.removeItem('lastAssessment');
            
            // Redirect to login page
            window.location.href = 'login.html';
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            checkAuth();

            // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                themeToggleLightIcon.classList.remove('hidden');
            } else {
                themeToggleDarkIcon.classList.remove('hidden');
        }

            themeToggle.addEventListener('click', function() {
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');
            
                if (localStorage.getItem('color-theme')) {
                    if (localStorage.getItem('color-theme') === 'light') {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    }
                } else {
            if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
            } else {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    }
                }
            });

            // User menu functionality
        const userMenuButton = document.getElementById('user-menu-button');
        const userMenu = document.getElementById('user-menu');
            const logoutButton = document.getElementById('logout-button');

            userMenuButton.addEventListener('click', function(e) {
            e.stopPropagation();
            userMenu.classList.toggle('hidden');
        });

            logoutButton.addEventListener('click', handleLogout);

            // Close user menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!userMenuButton.contains(event.target) && !userMenu.contains(event.target)) {
                userMenu.classList.add('hidden');
            }
        });

            // Enhanced mood selector functionality
            const moodSelectors = document.querySelectorAll('.mood-selector');
            moodSelectors.forEach(selector => {
                selector.addEventListener('click', function() {
                    moodSelectors.forEach(s => s.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Enhanced assessment functionality
            const startAssessment = document.getElementById('start-assessment');
            const viewPreviousResults = document.getElementById('view-previous-results');
            const retakeAssessment = document.getElementById('retake-assessment');
            const viewResources = document.getElementById('view-resources');

            // Load previous assessment results if available
            const previousResults = localStorage.getItem('lastAssessmentResults');
            if (previousResults) {
                viewPreviousResults.addEventListener('click', function() {
                    const results = JSON.parse(previousResults);
                    displayResults(results);
                });
        } else {
                viewPreviousResults.disabled = true;
                viewPreviousResults.classList.add('opacity-50', 'cursor-not-allowed');
            }

            // Function to display results
            function displayResults(results) {
                const resultsSummary = document.getElementById('results-summary');
                const resultsChart = document.getElementById('results-chart');
                
                // Clear previous results
                resultsSummary.innerHTML = '';
                resultsChart.innerHTML = '';
                
                // Display summary
                resultsSummary.innerHTML = `
                    <h4 class="text-lg font-semibold mb-2 text-gray-800 dark:text-white">
                        Overall Status: <span class="text-teal-600 dark:text-teal-400">${results.overallStatus}</span>
                    </h4>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">${results.advice}</p>
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4">
                        <p class="text-sm text-yellow-700 dark:text-yellow-300">
                            <strong>Remember:</strong> This assessment is not a diagnosis. It's meant to help you understand potential areas of concern.
                        </p>
                    </div>
                `;
                
                // Display chart
                Object.entries(results.scores).forEach(([category, score]) => {
                    const bar = document.createElement('div');
                    bar.className = 'flex flex-col items-center';
                    
                    const barContainer = document.createElement('div');
                    barContainer.className = 'w-12 h-48 bg-gray-200 dark:bg-gray-700 rounded-t-lg relative';
                    
                    const barFill = document.createElement('div');
                    barFill.className = `absolute bottom-0 w-full rounded-t-lg ${
                        score < 33 ? 'bg-green-500' : score < 66 ? 'bg-yellow-500' : 'bg-red-500'
                    }`;
                    barFill.style.height = `${score}%`;
                    
                    const tooltip = document.createElement('div');
                    tooltip.className = 'absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100';
                    tooltip.textContent = `${Math.round(score)}%`;
                    
                    const label = document.createElement('div');
                    label.className = 'text-xs text-gray-600 dark:text-gray-400 mt-2 text-center';
                    label.textContent = category;
                    
                    barFill.appendChild(tooltip);
                    barContainer.appendChild(barFill);
                    bar.appendChild(barContainer);
                    bar.appendChild(label);
                    resultsChart.appendChild(bar);
                });
                
                // Show results section
                document.getElementById('assessment-intro').classList.add('hidden');
                document.getElementById('assessment-questions').classList.add('hidden');
                document.getElementById('assessment-results').classList.remove('hidden');
            }
            document.getElementById('enroll-button').addEventListener('click', function() {
                alert('Enrolled in course!');
            });
            

            // Handle retake assessment
            retakeAssessment.addEventListener('click', function() {
                document.getElementById('assessment-intro').classList.remove('hidden');
                document.getElementById('assessment-questions').classList.add('hidden');
                document.getElementById('assessment-results').classList.add('hidden');
            });

            // Handle view resources
            viewResources.addEventListener('click', function() {
                window.location.href = 'resources.html';
            });

            // Breathing exercise functionality
            const breathingCircle = document.getElementById('breathing-circle');
            const breathingText = document.getElementById('breathing-text');
            const breathingTimer = document.getElementById('breathing-timer');
            const startButton = document.getElementById('start-breathing');
            const stopButton = document.getElementById('stop-breathing');

            let breathingInterval;
            let breathingSeconds = 0;
            const breathingPhases = {
                inhale: { duration: 4000, text: "Breathe in..." },
                hold: { duration: 4000, text: "Hold..." },
                exhale: { duration: 4000, text: "Breathe out..." },
                rest: { duration: 2000, text: "Rest..." }
            };
            let currentPhase = 'inhale';
            let isBreathing = false;

            function animateBreathing() {
                const phase = breathingPhases[currentPhase];
                breathingText.textContent = phase.text;

                breathingCircle.style.transform = 'scale(1)';
                breathingCircle.style.transition = 'transform ' + (phase.duration / 1000) + 's ease-in-out';

                if (currentPhase === 'inhale') {
                    breathingCircle.style.transform = 'scale(1.5)';
                } else if (currentPhase === 'exhale') {
                    breathingCircle.style.transform = 'scale(1)';
                }

                setTimeout(() => {
                    if (isBreathing) {
                        switch (currentPhase) {
                            case 'inhale': currentPhase = 'hold'; break;
                            case 'hold': currentPhase = 'exhale'; break;
                            case 'exhale': currentPhase = 'rest'; break;
                            case 'rest': currentPhase = 'inhale'; break;
                        }
                        animateBreathing();
                    }
                }, phase.duration);
            }

            function updateTimer() {
                breathingSeconds++;
                const minutes = Math.floor(breathingSeconds / 60);
                const remainingSeconds = breathingSeconds % 60;
                breathingTimer.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            }

            startButton.addEventListener('click', function() {
                isBreathing = true;
                breathingSeconds = 0;
                currentPhase = 'inhale';
                
                startButton.classList.add('hidden');
                stopButton.classList.remove('hidden');
                breathingTimer.classList.remove('hidden');
                
                animateBreathing();
                breathingInterval = setInterval(updateTimer, 1000);
            });

            stopButton.addEventListener('click', function() {
                isBreathing = false;
                
                startButton.classList.remove('hidden');
                stopButton.classList.add('hidden');
                breathingTimer.classList.add('hidden');
                breathingText.textContent = "Ready to begin?";
                
                breathingCircle.style.transform = 'scale(1)';
                breathingCircle.style.transition = 'none';
                
                clearInterval(breathingInterval);
            });

            // Add section switching functionality
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.main-content > div');

            // Show dashboard section by default
            document.getElementById('dashboard-section').classList.remove('hidden');

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links and sections
                    navLinks.forEach(l => l.classList.remove('active'));
                    sections.forEach(s => s.classList.add('hidden'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Show corresponding section
                    const sectionId = this.getAttribute('data-section') + '-section';
                    document.getElementById(sectionId).classList.remove('hidden');
                });
            });

            // Memory Game functionality
            const memoryGame = document.getElementById('memory-game');
            const gameScore = document.getElementById('game-score');
            const gameTimer = document.getElementById('game-timer');
            const gameMoves = document.getElementById('game-moves');
            const gameProgress = document.getElementById('game-progress');
            const restartButton = document.getElementById('restart-game');

            let cards = [];
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let moves = 0;
            let matches = 0;
            let timer;
            let gameSeconds = 0;

            const symbols = ['ðŸŽ¨', 'ðŸŽ­', 'ðŸŽª', 'ðŸŽ¯', 'ðŸŽ²', 'ðŸŽ®', 'ðŸŽ¸', 'ðŸŽ¹'];
            const allSymbols = [...symbols, ...symbols];

            function createBoard() {
                memoryGame.innerHTML = '';
                cards = [];
                moves = 0;
                matches = 0;
                gameSeconds = 0;
                gameMoves.textContent = '0';
                gameScore.textContent = 'Score: 0';
                gameProgress.style.width = '0%';
                clearInterval(timer);
                updateTimer();

                // Shuffle cards
                const shuffledCards = allSymbols.sort(() => Math.random() - 0.5);

                shuffledCards.forEach((symbol, index) => {
                    const card = document.createElement('div');
                    card.classList.add('memory-card', 'aspect-square');
                    card.dataset.symbol = symbol;
                    card.dataset.index = index;
                    
                    const cardInner = document.createElement('div');
                    cardInner.classList.add('card-inner');
                    
                    const cardFront = document.createElement('div');
                    cardFront.classList.add('card-front');
                    cardFront.innerHTML = '<i class="fas fa-question text-2xl sm:text-3xl"></i>';
                    
                    const cardBack = document.createElement('div');
                    cardBack.classList.add('card-back');
                    cardBack.textContent = symbol;
                    
                    cardInner.appendChild(cardFront);
                    cardInner.appendChild(cardBack);
                    card.appendChild(cardInner);
                    memoryGame.appendChild(card);
                    
                    cards.push(card);
                });

                cards.forEach(card => card.addEventListener('click', flipCard));
            }

            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;

                this.classList.add('flip');

                if (!hasFlippedCard) {
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }

                secondCard = this;
                moves++;
                gameMoves.textContent = moves;
                checkForMatch();
            }

            function checkForMatch() {
                let isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;

                if (isMatch) {
                    disableCards();
                    matches++;
                    updateScore();
                } else {
                    unflipCards();
                }
            }

            function disableCards() {
                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);
                firstCard.classList.add('matched');
                secondCard.classList.add('matched');
                resetBoard();
            }

            function unflipCards() {
                lockBoard = true;
                setTimeout(() => {
                    firstCard.classList.remove('flip');
                    secondCard.classList.remove('flip');
                    resetBoard();
                }, 1000);
            }

            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }

            function updateScore() {
                const score = Math.max(0, 100 - moves - gameSeconds);
                gameScore.textContent = `Score: ${score}`;
                gameProgress.style.width = `${(matches / symbols.length) * 100}%`;
                
                if (matches === symbols.length) {
                    clearInterval(timer);
                    setTimeout(() => {
                        const modal = document.createElement('div');
                        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
                        modal.innerHTML = `
                            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4">
                                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Congratulations! ðŸŽ‰</h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-4">
                                    You completed the game in ${moves} moves and ${formatTime(gameSeconds)}!
                                </p>
                                <div class="flex justify-end">
                                    <button class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition duration-300">
                                        Play Again
                                    </button>
                            </div>
                            </div>
                        `;
                        document.body.appendChild(modal);
                        modal.querySelector('button').addEventListener('click', () => {
                            modal.remove();
                            createBoard();
                        });
                    }, 500);
                }
            }

            function updateTimer() {
                timer = setInterval(() => {
                    gameSeconds++;
                    gameTimer.textContent = formatTime(gameSeconds);
                }, 1000);
            }

            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            }

            restartButton.addEventListener('click', createBoard);

            // Add styles for memory game and assessment sections
            const style = document.createElement('style');
            style.textContent = `
                .memory-card {
                    width: 100%;
                    height: 100%;
                    perspective: 1000px;
                    cursor: pointer;
                }

                .card-inner {
                    position: relative;
                    width: 100%;
                    height: 100%;
                    text-align: center;
                    transition: transform 0.6s;
                    transform-style: preserve-3d;
                }

                .memory-card.flip .card-inner {
                    transform: rotateY(180deg);
                }

                .card-front, .card-back {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    backface-visibility: hidden;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 2rem;
                    border-radius: 0.5rem;
                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                }

                .card-front {
                    background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
                    color: #1f2937;
                }

                .dark .card-front {
                    background: linear-gradient(135deg, #374151, #1f2937);
                    color: #f3f4f6;
                }

                .card-back {
                    background: linear-gradient(135deg, #0d948c, #0f766e);
                    color: white;
                    transform: rotateY(180deg);
                }

                .dark .card-back {
                    background: linear-gradient(135deg, #0f766e, #0d948c);
                }

                .memory-card.matched .card-back {
                    background: linear-gradient(135deg, #10b981, #059669);
                }

                .dark .memory-card.matched .card-back {
                    background: linear-gradient(135deg, #059669, #10b981);
                }

                @media (max-width: 640px) {
                    .memory-card {
                        height: 80px;
                    }
                }

                .assessment-section {
                    display: none;
                }
                .active-section {
                    display: block;
                }
            `;
            document.head.appendChild(style);

            // Initialize the game
            createBoard();

            // Add course modal functionality
            const courseModal = document.getElementById('course-modal');
            const closeModal = document.getElementById('close-modal');
            const enrollButtons = document.querySelectorAll('.card button');

            enrollButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Show the course modal (old functionality)
                    courseModal.classList.remove('hidden');
                    courseModal.classList.add('flex');
                    
                    // Show the alert (new functionality)
                    const courseCard = this.closest('.card');
                    const courseTitle = courseCard.querySelector('h3').textContent;
                    //alert(`Successfully enrolled in ${courseTitle}!\n\nWelcome to the course. You will receive course details via email shortly.`);
                    
                    // Store enrollment in localStorage
                    const enrollment = {
                        title: courseTitle,
                        enrolledAt: new Date().toISOString()
                    };
                    localStorage.setItem('lastEnrolledCourse', JSON.stringify(enrollment));
                });
            });

            closeModal.addEventListener('click', () => {
                courseModal.classList.add('hidden');
                courseModal.classList.remove('flex');
            });

            // Close modal when clicking outside
            courseModal.addEventListener('click', (e) => {
                if (e.target === courseModal) {
                    courseModal.classList.add('hidden');
                    courseModal.classList.remove('flex');
                }
            });

            // Add assessment section handling
            const assessmentSections = {
                intro: document.getElementById('assessment-intro'),
                questions: document.getElementById('assessment-questions'),
                results: document.getElementById('assessment-results')
            };

            function showAssessmentSection(section) {
                Object.values(assessmentSections).forEach(s => {
                    s.classList.remove('active-section');
                    s.classList.add('assessment-section');
                });
                section.classList.remove('assessment-section');
                section.classList.add('active-section');
            }

            // Add event listeners for assessment buttons
            document.getElementById('start-assessment').addEventListener('click', () => {
                showAssessmentSection(assessmentSections.questions);
            });

            document.getElementById('view-previous-results').addEventListener('click', () => {
                const previousResults = localStorage.getItem('lastAssessmentResults');
                if (previousResults) {
                    const results = JSON.parse(previousResults);
                    displayResults(results);
                    showAssessmentSection(assessmentSections.results);
                } else {
                    alert('No previous assessment results found.');
                }
            });

            document.getElementById('retake-assessment').addEventListener('click', () => {
                showAssessmentSection(assessmentSections.questions);
            });

            // Add event listener for the "Enroll in Course" button in the modal
            const modalEnrollButton = document.querySelector('#courseModal button');
            modalEnrollButton.addEventListener('click', function() {
                const courseTitle = document.querySelector('#courseModal h2').textContent;
                alert(`Successfully enrolled in ${courseTitle}!\n\nWelcome to the course. You will receive course details via email shortly.`);
                
                // Store enrollment in localStorage
                const enrollment = {
                    title: courseTitle,
                    enrolledAt: new Date().toISOString()
                };
                localStorage.setItem('lastEnrolledCourse', JSON.stringify(enrollment));
                
                // Close the modal after enrollment
                courseModal.classList.add('hidden');
                courseModal.classList.remove('flex');
            });

            // Add event listener for the "Enroll in Course" button in the course details modal
            const courseModalEnrollButton = document.querySelector('#course-modal button:last-child');
            courseModalEnrollButton.addEventListener('click', function() {
                const courseTitle = document.querySelector('#course-modal h4').textContent;
                alert(`Successfully enrolled in ${courseTitle}!\n\nWelcome to the course. You will receive course details via email shortly.`);
                
                // Store enrollment in localStorage
                const enrollment = {
                    title: courseTitle,
                    enrolledAt: new Date().toISOString()
                };
                localStorage.setItem('lastEnrolledCourse', JSON.stringify(enrollment));
                
                // Close the modal after enrollment
                document.getElementById('course-modal').classList.add('hidden');
            });

            // Add event listener for the enroll button
            const enrollButton = document.getElementById('enroll-button');
            if (enrollButton) {
                enrollButton.addEventListener('click', async function() {
                    const courseTitle = document.querySelector('#course-modal h4').textContent;
                    const courseId = this.getAttribute('data-course-id');
                    
                    try {
                        // Show alert first
                        alert(`Successfully enrolled in ${courseTitle}!\n\nWelcome to the course. You will receive course details via email shortly.`);
                        
                        // Get user email
                        const userEmail = localStorage.getItem('userEmail') || prompt('Please enter your email:');
                        if (!userEmail) {
                            console.error('Email is required');
                            return;
                        }

                        // Send data to server
                        const response = await fetch('api/enroll-course.php', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                course_id: courseId || 1, // Default to 1 if not set
                                course_title: courseTitle,
                                email: userEmail,
                                user_id: localStorage.getItem('userId')
                            })
                        });

                        const result = await response.json();
                        console.log('Server response:', result);
                        
                        if (result.success) {
                            // Store enrollment in localStorage
                            const enrollment = {
                                title: courseTitle,
                                enrolledAt: new Date().toISOString()
                            };
                            localStorage.setItem('lastEnrolledCourse', JSON.stringify(enrollment));
                            
                            // Close the modal after enrollment
                            document.getElementById('course-modal').classList.add('hidden');
                        } else {
                            console.error('Enrollment failed:', result.message);
                        }
                    } catch (error) {
                        console.error('Error:', error);
                    }
                });
            }
        });
    </script>
</body>
<script>
// Wait for the DOM to be fully loaded
window.addEventListener('load', function() {
    // Add event listener for the enroll button
    const enrollButton = document.getElementById('enroll-button');
    const courseModal = document.getElementById('course-modal');
    const courseTitleElement = document.querySelector('#course-modal h4');

    if (!enrollButton || !courseModal || !courseTitleElement) {
        console.warn('Required elements not found:', {
            enrollButton: !!enrollButton,
            courseModal: !!courseModal,
            courseTitleElement: !!courseTitleElement
        });
        return;
    }

    enrollButton.addEventListener('click', async function() {
        const courseTitle = courseTitleElement.textContent;
        const courseId = this.getAttribute('data-course-id');
        
        try {
            // Get user email
            const userEmail = localStorage.getItem('userEmail') || prompt('Please enter your email:');
            if (!userEmail) {
                console.error('Email is required');
                return;
            }

            // Prepare enrollment data
            const enrollmentData = {
                course_id: parseInt(courseId) || 1,
                course_title: courseTitle,
                email: userEmail,
                user_id: localStorage.getItem('userId')
            };

            console.log('Sending enrollment data:', enrollmentData);

            // Send data to server
            const response = await fetch('api/enroll-course.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(enrollmentData)
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();
            console.log('Server response:', result);
            
            if (result.success) {
                // Show success alert
                alert(`Successfully enrolled in ${courseTitle}!\n\nWelcome to the course. You will receive course details via email shortly.`);
                
                // Store enrollment in localStorage
                const enrollment = {
                    title: courseTitle,
                    enrolledAt: new Date().toISOString()
                };
                localStorage.setItem('lastEnrolledCourse', JSON.stringify(enrollment));
                
                // Close the modal after enrollment
                courseModal.classList.add('hidden');
            } else {
                console.error('Enrollment failed:', result.message);
                alert('Failed to enroll in course: ' + result.message);
            }
        } catch (error) {
            console.error('Error:', error);
            alert('An error occurred while enrolling in the course. Please try again.');
        }
    });
});
</script>
</html> 